---
import PageLayout from "@/layouts/Base.astro";

const cvUrl = "/cv/hamzamooraj-cv.pdf";
---

<PageLayout meta={{ title: "CV" }}>
  <section class="mx-auto w-full max-w-3xl">
    <h1 class="title mb-6">CV</h1>

    <div class="cv-actions">
      <a class="github-btn" href={cvUrl} download>Download PDF</a>
      <a class="github-btn" href={cvUrl} target="_blank" rel="noreferrer">Open in new tab</a>
    </div>

    <div class="cv-frame">
      <object data={cvUrl} type="application/pdf" width="100%" height="100%">
        <p class="fallback">
          Your browser can’t display PDFs inline.
          <a class="cactus-link" href={cvUrl} target="_blank" rel="noreferrer">Open the CV</a>
          or <a class="cactus-link" href={cvUrl} download>download it</a>.
        </p>
      </object>
    </div>
  </section>

  <style>
    .cv-actions {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .github-btn {
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		padding: 0.6rem 1rem;
		border-radius: 999px;
		font-size: 0.9rem;
		font-weight: 500;
		text-decoration: none;

		color: var(--color-accent);
		border: 1px solid var(--color-accent);
		background: transparent;

		transition: background 0.2s ease, color 0.2s ease, transform 0.15s ease;
	}

	.github-btn:hover {
		background: var(--color-accent);
		color: white;
		transform: translateY(-1px);
	}

	.github-icon {
		width: 16px;
		height: 16px;
	}

    .cv-frame {
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 12px;
      overflow: hidden;
      height: min(80vh, 1000px);
      background: rgba(255,255,255,0.02);
    }

    .fallback {
      padding: 1rem;
      opacity: 0.85;
      line-height: 1.6;
    }

    /* On small screens, previews are often annoying — hide it */
    @media (max-width: 640px) {
      .cv-frame { display: none; }
    }
  </style>
</PageLayout>